<html>
  <head>
    <title>My Playlist</title>
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#000000">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="theme-color" content="#ffffff">
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <meta charset='UTF-8'>
    <meta name="application-name" content="My Playlist">
    <meta name='author' content='Dominik Sigmund'>
    <meta name='publisher' content='Dominik Sigmund'>
    <meta name='copyright' content='Dominik Sigmund'>
    <meta name='page-topic' content='Forschung Technik'>
    <meta name='page-type' content='HTML-Formular'>
    <meta name='audience' content='All'>
    <meta name='description' content='My Playlist - Show what you are Gaming!'>
    <meta name='keywords' content='Gaming, Steam, Origin, Games, Platform, list'>
    <meta http-equiv='content-language' content='en'>
    <meta name='robots' content='index, follow'>
    <meta name='DC.Creator' content='Dominik Sigmund'>
    <meta name='DC.Publisher' content='Dominik Sigmund'>
    <meta name='DC.Rights',content='Dominik Sigmund'>
    <meta name='DC.Language' content='en'>
    <meta name='DC.Description' content='My Playlist - Show what you are Gaming!'>
    <meta property='og:type' content='website'>
    <meta property='og:title' content='My Playlist'>
    <meta property='og:url' content='https://playlist.dominik-sigmund.de'>
    <meta property='og:image' content='https://playlist.dominik-sigmund.de/apple-touch-icon.png'>
    <meta property='og:description' content='My Playlist - Show what you are Gaming!'>
    <meta name='twitter:card' content='summary_large_image'>
    <meta name='twitter:site' content='https://playlist.dominik-sigmund.de'>
    <meta name='twitter:title' content='My Playlist'>
    <meta name='twitter:image' content='https://playlist.dominik-sigmund.de/apple-touch-icon.png'>
    <meta name='twitter:description', content='My Playlist - Show what you are Gaming!'>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="bootstrap-sortable.js"></script>
    <script>
      $( document ).ready(function() {
        $.getJSON('./playlist.json', function(data) {
          for (const game of data) {
            switch (game.status) {
              case 'active':
                $('#active').append(htmlCard(game))
                break;
              case 'done':
                $('#done').append(htmlCard(game))
                break;
              default:
                $('#toplay').append(htmlCard(game))
                break;
            }
            let launcher = game.launcher || ''
            let table_row = `
            <tr>
              <td>${game.name}</td>
              <td>${game.platform}</td>
              <td>${launcher}</td>
              <td>${game.status}</td>
            </tr>
          `
          $('#table_content').append(table_row)
          }
          $.bootstrapSortable({ applyLast: true })
        })
        function htmlCard(game) {
          let camps = ''
          if(game.campaings) {
            camps = '<ul class="list-group list-group-flush">'
            for (const camp of game.campaings) {
              let status = ''
              if (camp.status) {
                switch (camp.status) {
                  case 'done':
                    status = '<span class="badge bg-success">Done</span>'
                    break
                  case 'active':
                    status = '<span class="badge bg-warning">Active</span>'
                    break
                }
              }
              camps += `<li class="list-group-item">
                          <img class="icon" src="${camp.image}" alt="${game.name} - ${camp.name}"/>
                          ${camp.name}
                          ${status}
                        </li>`
            }
            camps += '</ul>'
          }
          let platform = `<img class="icon" src="assets/platforms/${game.platform}.png" alt="${game.platform}"/>`
          let launcher = game.launcher ? `<img class="icon" src="assets/launchers/${game.launcher}.png" alt="${game.launcher}"/>`: ''
          return `<div class="col">
                    <div class="card" style="width: 18rem;">
                      <img src="${game.image}" class="card-img-top" alt="${game.name}">
                      ${camps}
                      <div class="card-footer text-muted text-center">${platform} ${launcher}</div>
                    </div>
                  </div>`
        }
      })
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css" />
    <link rel="stylesheet" href="bootstrap-sortable.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <style>
      .icon {
        height: auto;
        width: 40px;
      }
    </style>
  </head>
  <body>
    <a class="github-fork-ribbon" href="https://github.com/DSigmund/my-playlist/" data-ribbon="Fork me on GitHub" title="Fork me on GitHub">Fork me on GitHub</a>
    <div class="container">
      <h1><img class="icon" src="icon.png" alt="Logo"/> My Playlist</h1>
      <hr/>
      <h2>Active Games</h2>
      <div id="active" class="row row-cols-1 row-cols-md-4 g-4"></div>
      <hr/>
      <h2>To Play</h2>
      <div id="toplay" class="row row-cols-1 row-cols-md-4 g-4"></div>
      <hr/>
      <h2>Done</h2>
      <div id="done" class="row row-cols-1 row-cols-md-4 g-4"></div>
      <hr/>
      <table class="table table-striped table-hover sortable">
        <caption>My Games as sortable Table</caption>
        <thead>
          <tr>
            <th scope="col">Title</th>
            <th scope="col">Platform</th>
            <th scope="col">Launcher</th>
            <th scope="col">Status</th>
          </tr>
        </thead>
        <tbody id="table_content">

        </tbody>
      </table>
    </div>
  </body>
</html>